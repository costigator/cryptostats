{% extends "layout.html" %}

{% block content %}

<h1><a href="/">Symbols</a> <i class="angle double right icon"></i> {{ symbol }}</h1>

<!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
    <div id="tradingview_6fabc"></div>
    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/symbols/{{ symbol }}/" rel="noopener" target="_blank"><span class="blue-text">Chart</span></a> by TradingView</div>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script type="text/javascript">
    new TradingView.widget(
    {
        "width": "100%",
        "height": 610,
        "symbol": "BINANCE:{{ symbol }}",
        "interval": "15",
        "timezone": "Europe/Zurich",
        "theme": "light",
        "style": "1",
        "locale": "en",
        "toolbar_bg": "#f1f3f6",
        "enable_publishing": false,
        "allow_symbol_change": true,
        "container_id": "tradingview_6fabc"
    }
    );
    </script>
</div>
<!-- TradingView Widget END -->

<h1>Prices</h1>

<table class="ui striped table">
    <thead>
        <tr>
            <th>Time</th>
            <th>Open</th>
            <th>High</th>
            <th>Low</th>
            <th>Close</th>
            <th>Trades</th>
        </tr>
    </thead>
    <tbody>
        {% for bar in bars %}
        <tr>
            <td>{{ bar.close_time }}</td>
            <td>{{ bar.open_price }}</td>
            <td>{{ bar.high_price }}</td>
            <td>{{ bar.low_price }}</td>
            <td>{{ bar.close_price }}</td>
            <td>{{ bar.number_of_trades }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}

